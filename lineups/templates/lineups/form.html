{% extends 'page.html' %}
{% load static %}

{% block head_title %}{% if is_edit %}Edit{% else %}New{% endif %} Lineup - Sloppy Labwork{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'lineups/main.css' %}">
{% endblock %}

{% block content %}
<h1>{% if is_edit %}Edit Lineup{% else %}New Lineup{% endif %}</h1>

<form method="post" class="lineup-form">
  {% csrf_token %}

  <div class="form-group">
    <label for="id_name">Name</label>
    {{ form.name }}
    {% if form.name.errors %}
    <div class="form-errors">{{ form.name.errors }}</div>
    {% endif %}
  </div>

  <div class="form-group">
    <label for="id_visibility">Visibility</label>
    {{ form.visibility }}
    {% if form.visibility.errors %}
    <div class="form-errors">{{ form.visibility.errors }}</div>
    {% endif %}
  </div>

  <div class="form-group">
    <label for="id_description">Description (Markdown supported)</label>
    {{ form.description }}
    {% if form.description.errors %}
    <div class="form-errors">{{ form.description.errors }}</div>
    {% endif %}
  </div>

  <div class="form-actions">
    <button type="submit" class="button button-primary">{% if is_edit %}Save Changes{% else %}Create Lineup{% endif %}</button>
    {% if is_edit %}
    <a href="{% url 'lineups-detail' lineup.code %}" class="button">Cancel</a>
    {% else %}
    <a href="{% url 'lineups-list' %}" class="button">Cancel</a>
    {% endif %}
  </div>
</form>
{% endblock %}
